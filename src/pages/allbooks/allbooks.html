
<ion-header>
	<ion-navbar >
		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
		<ion-title>Libros</ion-title>
	</ion-navbar>
	<ion-fab middle right edge>
		<button ion-fab mini  (click)="showCreateBook()"><ion-icon name="add"></ion-icon></button>
	</ion-fab>
</ion-header>

<ion-content> 
	<ion-searchbar
	[(ngModel)]="searchTerm"
	(ionInput)="setFilteredItems()"
	(ionCancel)="cancel()">
	</ion-searchbar>
	<ion-list inset >
		<ion-card *ngFor="let book of books$ ; trackBy: trackByFn" > 
			<ion-card-content>
				<ion-card-title>
					{{book.title}}
				</ion-card-title>
				<p>{{book.plot.slice(0,100)}} <i *ngIf=" book.plot.length > 50" >...</i></p>
				<ion-row >
					<ion-col *ngIf="islogged()" text-left>
						<button ion-button clear small color="primary" (click)="createReview($event, book.id, book.title)">
							<ion-icon name='text'></ion-icon>
							Rese√±ar
						</button>
					</ion-col>
					<ion-col text-right>
						<button ion-button clear small color="primary" (click)="viewMore($event, book.id)">
							<ion-icon name='arrow-dropright'></ion-icon>
							Ver mas 
						</button>
					</ion-col>
				</ion-row>
			</ion-card-content>
		</ion-card>
	</ion-list>	
</ion-content>  